<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Enhancement #3426: Backport CGP and lightsquid access on port 980 - NethServer 6 - NethServer.org</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta content="authenticity_token" name="csrf-param" />
<meta content="xe6SsSoVbaoZlAUezNss16xDC6ajg3P6jzWUrXbVg4A=" name="csrf-token" />
<link rel='shortcut icon' href='../favicon.ico%3F1457596383' />
<link href="../stylesheets/jquery/jquery-ui-1.9.2.css%3F1403512057.css" media="all" rel="stylesheet" type="text/css" />
<link href="../themes/nethserver/stylesheets/application.css%3F1403512057.css" media="all" rel="stylesheet" type="text/css" />

<script src="../javascripts/jquery-1.8.3-ui-1.9.2-ujs-2.0.3.js%3F1403512056" type="text/javascript"></script>
<script src="../javascripts/application.js%3F1403512056" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>
<script src="../themes/nethserver/javascripts/theme.js%3F1403512057.js" type="text/javascript"></script>
<link href="../plugin_assets/openid_fix/stylesheets/openid.css%3F1403512057.css" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->
    <link href="http://dev.nethserver.org/issues/3426.atom" rel="alternate" title="NethServer 6 - Enhancement #3426: Backport CGP and lightsquid access on port 980" type="application/atom+xml" />
<script src="../javascripts/context_menu.js%3F1403512056" type="text/javascript"></script><link href="../stylesheets/context_menu.css%3F1403512057.css" media="screen" rel="stylesheet" type="text/css" /></head>
<body class="theme-Nethserver project-nethserver controller-issues action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    
    <ul><li><a href="/index.html" class="home">Home</a></li>
<li><a href="/projects.html" class="projects">Projects</a></li></ul></div>
<div id="header">
    
<h1>NethServer 6</h1>

    <div id="main-menu">
        <ul><li><a href="/projects/nethserver" class="overview">Overview</a></li>

<li><a href="../issues.html" class="issues selected">Issues</a></li>
<li><a href="/projects/nethserver/wiki.html" class="wiki">Wiki</a></li></ul>
    </div>
</div>

<div id="main" class="">
    

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Enhancement #3426</h2>

<div class="issue tracker-6 status-5 priority-4 priority-default closed details">
    <div class="next-prev-links contextual">
      <a href="3428.html" title="#3428">« Previous</a> |
      <a href="3421.html" title="#3421">Next »</a>
    </div>

  <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/d1393faf88bfcbb0b41ce36307b6a143?rating=PG&amp;size=50&amp;default=wavatar" ssl="false" title="" />

<div class="subject">
<div><h3>Backport CGP and lightsquid access on port 980</h3></div>
</div>
        <p class="author">
        </p>

<table class="attributes">
<tr><th class="status">Status:</th><td class="status">CLOSED</td><th class="start-date">Start date:</th><td class="start-date"></td></tr><tr><th class="priority">Priority:</th><td class="priority">Normal</td><th class="due-date">Due date:</th><td class="due-date"></td></tr><tr><th class="assigned-to">Assignee:</th><td class="assigned-to">-</td><th class="progress">% Done:</th><td class="progress"><table class="progress progress-100" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="percent">100%</p></td></tr><tr><th class="category">Category:</th><td class="category">&lt;multiple packages&gt;</td><th></th><td></td></tr><tr><th class="fixed-version">Target version:</th><td class="fixed-version"><a href="../versions/219.html">v6.8</a></td><th></th><td></td></tr>
<tr>
	<th class="cf_13">Resolution:</th><td class="cf_13"></td>
	<th class="cf_14">NEEDINFO:</th><td class="cf_14">No</td>
</tr>


</table>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>NethServer 7 permits access to CGP graphs and lightsquid reports through the usual server-manager port (980).<br />NethServer 6 permits access through port 80, which, sometimes is not usable (read port forwards).<br />It's possible to backport all features to 6.8 adapting configurations to the older software versions.<br />We need to adapt patches to 3 packages:<br />1. nethserver-httpd-admin<br />2. nethserver-cgp<br />3. nethserver-lightsquid</p>


	<p>nethserver-httpd-admin needs support for proxypass, which is available in apache 2.2<br />nethserver cgp and nethserver-lightsquid need a new configuration fragment to use the proxypass feature and the dashboard links should be adjusted to point to the proxypass'ed url.</p>
  </div>
</div>






</div>

<div id="issue-changesets">
<h3>Associated revisions</h3>
    <div class="changeset odd">
    <div class="wiki">
        <p>Serve lightsquid reports through port 980 on server-manager. Refs <a href="3426.html" class="issue tracker-6 status-5 priority-4 priority-default closed" title="Backport CGP and lightsquid access on port 980 (CLOSED)">#3426</a></p>
    </div>
    </div>
    <div class="changeset even">
    <div class="wiki">
        <p>Serve CGP graphs through port 980 on server-manager. Refs <a href="3426.html" class="issue tracker-6 status-5 priority-4 priority-default closed" title="Backport CGP and lightsquid access on port 980 (CLOSED)">#3426</a></p>
    </div>
    </div>
    <div class="changeset odd">
    <div class="wiki">
        <p>Load config from admin-conf.d/*.conf. Refs <a href="3426.html" class="issue tracker-6 status-5 priority-4 priority-default closed" title="Backport CGP and lightsquid access on port 980 (CLOSED)">#3426</a><br />Backport of:<br /><a class="external" href="https://github.com/NethServer/nethserver-httpd-admin/commit/5a1742605331b1528222229862b6687e663acaa2#diff-ed648e960b298e447a1f91340491b528">https://github.com/NethServer/nethserver-httpd-admin/commit/5a1742605331b1528222229862b6687e663acaa2#diff-ed648e960b298e447a1f91340491b528</a></p>
    </div>
    </div>

</div>

<div id="history">
<h3>History</h3>
  <div id="change-17694" class="journal has-notes has-details">
    <div id="note-1">
    <h4><a href="3426.html#note-1" class="journal-link">#1</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/d1393faf88bfcbb0b41ce36307b6a143?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />

    </h4><ul class="details">
       <li><strong>Status</strong> changed from <i>NEW</i> to <i>TRIAGED</i></li>
       <li><strong>Assignee</strong> set to <i>Filippo Carletti</i></li>
       <li><strong>% Done</strong> changed from <i>0</i> to <i>20</i></li>
    </ul>
    <div class="wiki" id="journal-17694-notes"><p>I'd like to add a feature to permit access through port 80, selecting the ip addresses which can connect directly to the application url (the user must know the url alias, which is an hard to guess hash).<br />The ip address should be the same which can access the server-manager from remote, so the user must set them in Network service -> httpd-admin.<br />And activate the changes with the appropriate command:<br /><pre>
signal-event nethserver-lightsquid-update
or
signal-event nethserver-cgp-update
</pre></p></div>
    </div>
  </div>
  
  <div id="change-17695" class="journal has-details">
    <div id="note-2">
    <h4><a href="3426.html#note-2" class="journal-link">#2</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/d1393faf88bfcbb0b41ce36307b6a143?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />

    </h4><ul class="details">
       <li><strong>Status</strong> changed from <i>TRIAGED</i> to <i>ON_DEV</i></li>
       <li><strong>% Done</strong> changed from <i>20</i> to <i>30</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-17696" class="journal has-details">
    <div id="note-3">
    <h4><a href="3426.html#note-3" class="journal-link">#3</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/d1393faf88bfcbb0b41ce36307b6a143?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />

    </h4><ul class="details">
       <li><strong>Status</strong> changed from <i>ON_DEV</i> to <i>MODIFIED</i></li>
       <li><strong>Assignee</strong> deleted (<del><i>Filippo Carletti</i></del>)</li>
       <li><strong>% Done</strong> changed from <i>30</i> to <i>60</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-17697" class="journal has-notes has-details">
    <div id="note-4">
    <h4><a href="3426.html#note-4" class="journal-link">#4</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/d1393faf88bfcbb0b41ce36307b6a143?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />

    </h4><ul class="details">
       <li><strong>Status</strong> changed from <i>MODIFIED</i> to <i>ON_QA</i></li>
       <li><strong>% Done</strong> changed from <i>60</i> to <i>70</i></li>
    </ul>
    <div class="wiki" id="journal-17697-notes"><p>Packages available in nethserver-testing:<br />nethserver-httpd-admin-1.6.6-1.2.g13af7f7.ns6.noarch.rpm<br />nethserver-cgp-2.0.0-1.1.g01502c5.ns6.noarch.rpm<br />nethserver-lightsquid-1.0.5-1.1.g3f92d56.ns6.noarch.rpm</p>


	<p>Test cases (after every step look for errors in /var/log/httpd-admin/error_log and /var/log/httpd/error_log):<br />1. update nethserver-httpd-admin and check that access to the server-manager is still available<br />2. install or update nethserver-cgp and/or nethserver-lightsquid and check access through Dashboard->Application links<br />3. set your ip in Network services -> httpd-admin and try to access the alias url on port 80 (also check forbidden access from a different ip)</p></div>
    </div>
  </div>
  
  <div id="change-17702" class="journal has-details">
    <div id="note-5">
    <h4><a href="3426.html#note-5" class="journal-link">#5</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/d48e99853c863b497623d4e5eeb214d2?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />

    </h4><ul class="details">
       <li><strong>Assignee</strong> set to <i>Nicola Rauso</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-17703" class="journal has-notes has-details">
    <div id="note-6">
    <h4><a href="3426.html#note-6" class="journal-link">#6</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/d48e99853c863b497623d4e5eeb214d2?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />

    </h4><ul class="details">
       <li><strong>Status</strong> changed from <i>ON_QA</i> to <i>VERIFIED</i></li>
       <li><strong>Assignee</strong> deleted (<del><i>Nicola Rauso</i></del>)</li>
       <li><strong>% Done</strong> changed from <i>70</i> to <i>90</i></li>
    </ul>
    <div class="wiki" id="journal-17703-notes"><p>Tested: <strong>OK</strong></p>


	<p>For test <em>3</em> had also to trigger the events:</p>


<pre>
nethserver-lightsquid-update
nethserver-cgp-update
</pre></div>
    </div>
  </div>
  
  <div id="change-17704" class="journal has-notes has-details">
    <div id="note-7">
    <h4><a href="3426.html#note-7" class="journal-link">#7</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/557f8126150c57751ffc7d17a9f01e11?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />

    </h4><ul class="details">
       <li><strong>Status</strong> changed from <i>VERIFIED</i> to <i>CLOSED</i></li>
       <li><strong>% Done</strong> changed from <i>90</i> to <i>100</i></li>
    </ul>
    <div class="wiki" id="journal-17704-notes"><p>Released:<br />- nethserver-httpd-admin-1.6.7-1.ns6.noarch.rpm<br />- nethserver-lightsquid-1.0.6-1.ns6.src.rpm<br />- nethserver-cgp-2.0.1-1.ns6.noarch.rpm</p></div>
    </div>
  </div>
  


</div>


<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>





<script type="text/javascript">
//<![CDATA[
contextMenuInit('/issues/context_menu')
//]]>
</script>

        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Copyright &copy; 2012-2021 nethserver.org
  </div></div>
</div>
</div>
</div>

</body>
</html>
